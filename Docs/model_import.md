# Model import instructions

Install
- [Blender](https://www.blender.org/download/)
- [Github Desktop](https://desktop.github.com/download/)
- [Msys2](https://www.msys2.org/) (Windows)
- [ldr_tools_blender](https://github.com/ScanMountGoat/ldr_tools_blender)
- [s3o-blender-tools](https://github.com/ChrisFloofyKitsune/s3o-blender-tools)
- [Recoil](https://github.com/beyond-all-reason/RecoilEngine/releases)

To install the Blender addons: navigate to Edit > Preferences > Addon and click Install. Select the zip.

In Github Desktop open `https://github.com/pepijndevos/MultiManicMiners` and set its save location to `~/.spring/games/mmm.sdd` (Linux) or `C:\\User\yourname\Documents\My Games\Spring\Games\mmm.sdd` (Windows)

## Test the game

Download a map such as [Astroid Miners](https://www.beyondallreason.info/map/asteroid-mines) and save the sd7 in the `maps` folder next to the `games` folder where you downloaded mmm.

Launch the Spring application from the Recoil folder you downloaded. Select the game, map, and nullai for the script. Start the game.

## Import Lego Model

Install imagemagick by opening a terminal (msys2 on Windows) and running the corresponding installation command

Arch: `sudo pacman -S imagemagick`
Ubuntu: `sude apt install imagemagick`
Windows: `pacman -S mingw64/mingw-w64-x86_64-imagemagick`

then change directory to the game: `cd path/to/mmm.sdd`

and convert your first model!

```bash
bash import_ldraw_model.sh contrib/MMMOC/4960_Transport_Truck.io
```

## Create a unit

Copy an existing unit such as `MultiManicMiners/Units/granitegrinder.lua` and change some parameters. Things like `name` should be self-explanatory. The critical ones to change are `BuildPic` and `ObjectName` which were generated by the ldraw script. In this example it'd be `4960_Transport_Truck.png` and `4960_Transport_Truck.s3o` respectively. And that's it!

Of course there are more details like weapon definitions and unit scripts, which you can mostly just copy and tweak from other units.

To be able to use the unit we can do one of three things
- use `/cheat` and `/give unitname`
- add it to `buildoptions` of eg `superteleport.lua`
- set it as the `startunit` of a new side in `SideData.lua`
